# ====================================================================
# AI Code Editor ç”¨æˆ·ä¿¡æ¯é…ç½®
# ====================================================================
#
# ç”¨äºæ˜¾ç¤º aicodeditor.com çš„ç”¨æˆ·ä½¿ç”¨æƒ…å†µå’Œè´¦æˆ·ä¿¡æ¯
#
# ä½¿ç”¨è¯´æ˜ï¼š
# 1. å¤åˆ¶æ­¤æ–‡ä»¶åˆ° ~/.claude/statusline-pro/components/aicodeditor.toml
# 2. åœ¨ä¸»é…ç½®æ–‡ä»¶ä¸­å¯ç”¨ multiline.enabled = true
# 3. è®¾ç½®ç¯å¢ƒå˜é‡ï¼š
#    export ANTHROPIC_API_KEY="your-key"
#    æˆ– export ANTHROPIC_AUTH_TOKEN="your-token"
# 4. é‡å¯Claude Codeï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨æ£€æµ‹å¹¶æ˜¾ç¤ºç”¨æˆ·ä¿¡æ¯
#
# ====================================================================

[meta]
description = "AI Code Editor ç”¨æˆ·ä¿¡æ¯æ˜¾ç¤º"
version = "1.0"

[widgets]

# ====================================================================
# AI Code Editor ç”¨æˆ·ä¿¡æ¯ Widget
# ====================================================================

[widgets.aicodeditor_usage]
enabled = true           # å¯ç”¨æ­¤Widget
type = "api"            # APIç±»å‹
row = 1                 # æ˜¾ç¤ºåœ¨ç¬¬äºŒè¡Œ
col = 0                 # ç¬¬ä¸€åˆ—
nerd_icon = "\uf121"    # Codeå›¾æ ‡ (Nerd Font)
emoji_icon = "ğŸ’»"       # ç”µè„‘å›¾æ ‡
text_icon = "[ACE]"     # æ–‡æœ¬å›¾æ ‡

# æ¨¡æ¿ï¼šæ ¹æ®APIè¿”å›çš„æ•°æ®è‡ªå®šä¹‰æ˜¾ç¤ºæ ¼å¼
# APIè¿”å›ï¼š{ "success": true, "data": { "points": 19685, "expirationDate": "2025-10-31 19:27:17" } }
# ğŸ†• æ—¶é—´å·®æ ¼å¼åŒ– - è‡ªåŠ¨è®¡ç®—åˆ°æœŸå‰©ä½™æ—¶é—´
# æ ¼å¼è¯´æ˜ï¼š.DHm = è‡ªåŠ¨é€‰æ‹©åˆé€‚å•ä½ï¼ˆå¤©/å°æ—¶/åˆ†é’Ÿï¼‰
# - â‰¥1å¤©: æ˜¾ç¤ºå¤©æ•°å’Œå°æ—¶ (å¦‚ "5å¤©3å°æ—¶")
# - <1å¤©ä½†â‰¥1å°æ—¶: æ˜¾ç¤ºå°æ—¶å’Œåˆ†é’Ÿ (å¦‚ "3å°æ—¶15åˆ†é’Ÿ")
# - <1å°æ—¶: æ˜¾ç¤ºåˆ†é’Ÿ (å¦‚ "45åˆ†é’Ÿ")
template = "ç§¯åˆ†: {points:,.0f} | å‰©ä½™: {expirationDate - now():.DHm}"

# è‡ªåŠ¨æ£€æµ‹ï¼šå½“è®¾ç½®äº† ANTHROPIC_API_KEY æˆ– ANTHROPIC_AUTH_TOKEN æ—¶å¯ç”¨
[widgets.aicodeditor_usage.detection]
env = "ANTHROPIC_API_KEY"
# å¦‚æœåªæƒ³æ£€æµ‹ ANTHROPIC_AUTH_TOKENï¼Œå¯ä»¥æ”¹ä¸ºï¼š
# env = "ANTHROPIC_AUTH_TOKEN"

# API é…ç½®
[widgets.aicodeditor_usage.api]
base_url = "https://aicodeditor.com"
endpoint = "/api/v1/usage"
method = "POST"         # ä½¿ç”¨ POST æ–¹æ³•
timeout = 5000          # 5ç§’è¶…æ—¶
data_path = "$.data"    # æå–dataå­—æ®µï¼ŒåŒ…å«pointså’ŒexpirationDate

# è¯·æ±‚å¤´é…ç½®
[widgets.aicodeditor_usage.api.headers]
"Authorization" = "Bearer ${ANTHROPIC_API_KEY}"
"Content-Type" = "application/json"

# å¦‚æœéœ€è¦åŒæ—¶æ”¯æŒä¸¤ç§Tokenï¼Œå¯ä»¥è¿™æ ·é…ç½®ï¼š
# "Authorization" = "Bearer ${ANTHROPIC_AUTH_TOKEN}"

# å¦‚æœAPIè¿”å›ç»“æœåœ¨åµŒå¥—å­—æ®µä¸­ï¼Œå¯ä»¥ä½¿ç”¨ data_path æå–
# ä¾‹å¦‚ï¼šdata_path = "$.data" æˆ– "$.result.user"

# ====================================================================
# å¯é€‰ï¼šå‰©ä½™å¤©æ•° Widget
# ====================================================================

[widgets.aicodeditor_days_remaining]
enabled = false          # é»˜è®¤ç¦ç”¨ï¼Œéœ€è¦æ—¶å¯ç”¨
type = "api"
row = 1
col = 1
nerd_icon = "\uf073"
emoji_icon = "â°"
text_icon = "[T]"
# ğŸ†• æ—¶é—´å·®æ ¼å¼åŒ– - è‡ªåŠ¨è®¡ç®—åˆ°æœŸå‰©ä½™å¤©æ•°
template = "å‰©ä½™: {expirationDate - now():.D}å¤©"

[widgets.aicodeditor_days_remaining.detection]
env = "ANTHROPIC_API_KEY"

[widgets.aicodeditor_days_remaining.api]
base_url = "https://aicodeditor.com"
endpoint = "/api/v1/usage"
method = "POST"
timeout = 5000
data_path = "$.data"

[widgets.aicodeditor_days_remaining.api.headers]
"Authorization" = "Bearer ${ANTHROPIC_API_KEY}"
"Content-Type" = "application/json"

# ====================================================================
# æ¨¡æ¿è¯­æ³•è¯´æ˜
# ====================================================================
#
# 1. åŸºæœ¬å­—æ®µå¼•ç”¨ï¼š{field_name}
# 2. åµŒå¥—å­—æ®µï¼š{user.name} æˆ– {data.usage.total}
# 3. æ•°å­¦è¡¨è¾¾å¼ï¼š{used / total * 100:.2f}
# 4. æ—¶é—´å·®ï¼š{expires_at - now():.D}å¤©
# 5. ç¾å…ƒç¬¦å·è½¬ä¹‰ï¼š\\$
# 6. æ ¼å¼åŒ–ï¼š
#    - {value:.2f}  ä¿ç•™2ä½å°æ•°
#    - {value:.0f}  å–æ•´
#    - {value:,.0f} åƒåˆ†ä½åˆ†éš”
#
# ====================================================================
# å¸¸è§é—®é¢˜
# ====================================================================
#
# Q: Widgetä¸æ˜¾ç¤ºï¼Ÿ
# A: æ£€æŸ¥ä»¥ä¸‹å‡ ç‚¹ï¼š
#    1. ä¸»é…ç½®ä¸­ multiline.enabled = true
#    2. ç¯å¢ƒå˜é‡ ANTHROPIC_API_KEY å·²è®¾ç½®
#    3. APIè¿”å›æ•°æ®æ­£å¸¸ï¼ˆæ£€æŸ¥ç»ˆç«¯æ—¥å¿—ï¼‰
#    4. templateä¸­çš„å­—æ®µåä¸APIè¿”å›çš„JSONé”®åŒ¹é…
#
# Q: å¦‚ä½•æŸ¥çœ‹APIè¿”å›çš„æ•°æ®ç»“æ„ï¼Ÿ
# A: å¯ä»¥å…ˆç”¨ curl å‘½ä»¤æµ‹è¯•ï¼š
#    curl -X POST https://aicodeditor.com/api/v1/usage \
#      -H "Authorization: Bearer YOUR_KEY" \
#      -H "Content-Type: application/json"
#
# Q: æ”¯æŒå¤šä¸ªTokenæºå—ï¼Ÿ
# A: æ”¯æŒï¼å¯ä»¥åˆ›å»ºå¤šä¸ªWidgetï¼Œæ¯ä¸ªæ£€æµ‹ä¸åŒçš„ç¯å¢ƒå˜é‡
#
# ====================================================================